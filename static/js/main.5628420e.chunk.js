(this["webpackJsonpdairy-app"]=this["webpackJsonpdairy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={list:"ItemList_list__3Vf2A",item:"ItemList_item__3x3D6",active:"ItemList_active__qpqgI",count:"ItemList_count__ORLHa"}},16:function(e,t,n){e.exports={comments:"CommentsList_comments__GFUTJ",comment:"CommentsList_comment__2kqgF",user:"CommentsList_user__2PW36",message:"CommentsList_message__6I-A8"}},23:function(e,t,n){e.exports={button:"Button_button__POzNo",add:"Button_add__3wpNz",del:"Button_del__2EZfH"}},26:function(e,t,n){e.exports={header:"Header_header__3S9S0",logo:"Header_logo__r2-vC"}},30:function(e,t,n){e.exports={block:"Block_block__3z-ag"}},31:function(e,t,n){e.exports={input:"Input_input__1ZlMl"}},32:function(e,t,n){e.exports={textarea:"Textarea_textarea__2OYc_"}},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(17),o=n.n(s),r=n(22),i=n(21),m=n(3),l={loadedItems:!1,items:[{id:1,active:!1,text:"First item with custom name",countComent:0},{id:2,active:!0,text:"Second item is active",countComent:0}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":var n=JSON.parse(localStorage.getItem("items"));return Object(m.a)(Object(m.a)({},e),{},{items:n});case"ADD_ITEM":var a={id:Date.now(),countComent:0,text:t.payload},c=[].concat(Object(i.a)(e.items),[a]);return localStorage.setItem("items",JSON.stringify(c)),Object(m.a)(Object(m.a)({},e),{},{items:c});case"ACTIVE_ITEM":var s=e.items.map((function(e){return e.id===t.payload?e.active=!0:e.active=!1,e}));return localStorage.setItem("items",JSON.stringify(s)),Object(m.a)(Object(m.a)({},e),{},{items:s});case"REMOVE_ITEM":var o=e.items.filter((function(e){return e.id!==t.payload}));return localStorage.setItem("items",JSON.stringify(o)),Object(m.a)(Object(m.a)({},e),{},{items:o});default:return e}},d={"loaded\u0421omments":!1,comments:[{id:1,user:"#ff8a00",idItem:1,text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It wasintroduced to the Information Age in the mid-1980s"},{id:3,user:"#ff8a00",idItem:1,text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets. It wasintroduced to the Information Age in the mid-1980s"},{id:2,user:"#ff8a00",idItem:2,text:"A variation of the ordinary lorem ipsum text has been used in typesetting since the 1960s or earlier, when it was popularized by advertisements for Letraset transfer sheets."}],commentsItem:[],color:["#ff8a00","#47568c","#27ccc0","#ff2f5a","#3e7ce9","#a4ff3c","#9821e5","#feff0f","#ff83cf","#41e7ff"],commentsCount:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMMENT":return Object(m.a)(Object(m.a)({},e),{},{comments:t.payload});case"GET_COMMENT_ITEM":return Object(m.a)(Object(m.a)({},e),{},{commentsItem:t.payload});case"ADD_COMMENT":var n=Math.floor(10*Math.random()+1),a={id:Date.now(),idItem:t.payload.idUser,user:e.color[n],text:t.payload.text},c=localStorage.getItem("comments")?JSON.parse(localStorage.getItem("comments")):e.comments,s=[].concat(Object(i.a)(c),[a]);return localStorage.setItem("comments",JSON.stringify(s)),Object(m.a)(Object(m.a)({},e),{},{comments:s});case"SET_COMMENT_ITEM":var o=localStorage.getItem("comments")?JSON.parse(localStorage.getItem("comments")):e.comments,r=o.filter((function(e){return e.idItem===t.payload}));return localStorage.setItem("commentsItem",JSON.stringify(r)),Object(m.a)(Object(m.a)({},e),{},{commentsItem:r});case"SET_COMMENT_COUNT":var l={},u=localStorage.getItem("comments")?JSON.parse(localStorage.getItem("comments")):e.comments;return u.forEach((function(e){l[e.idItem]?l[e.idItem]+=1:l[e.idItem]=1})),localStorage.setItem("commentsCount",JSON.stringify(l)),Object(m.a)(Object(m.a)({},e),{},{commentsCount:l});case"REMOVE_COMMENTS":var j=e.comments.filter((function(e){return e.idItem!==t.payload})),O=e.commentsItem.filter((function(e){return e.idItem!==t.payload}));return localStorage.setItem("comments",JSON.stringify(j)),localStorage.setItem("commentsItem",JSON.stringify(O)),Object(m.a)(Object(m.a)({},e),{},{comments:j,commentsItem:O});default:return e}},O=Object(r.a)({items:u,comments:j}),b=Object(r.b)(O),f=n(9),p=n(4),h=n(12),g=n(26),_=n.n(g),x=n(1),I=function(){return Object(x.jsxs)("header",{className:_.a.header,children:[Object(x.jsx)(h.b,{className:_.a.logo,to:"/",children:"dairy app"}),Object(x.jsx)("p",{children:"Comment with no sense"})]})},y=n(30),v=n.n(y),N=function(e){var t=e.children,n=e.className;return Object(x.jsx)("div",{className:"".concat(v.a.block," ").concat(n),children:t})},C=n(10),S=n(20),E=n.n(S),M=n(23),T=n.n(M),w=function(e){var t,n=e.children,a=e.add,c=e.del,s=e.onClick;return Object(x.jsx)("button",{onClick:s,className:E()(T.a.button,(t={},Object(C.a)(t,T.a.add,a),Object(C.a)(t,T.a.del,c),t)),children:n})},k=n(31),A=n.n(k),J=function(e){var t=e.placeholder,n=e.onChange,a=e.value;return Object(x.jsx)("input",{onChange:n,value:a,className:A.a.input,placeholder:t})},D=function(e){return{type:"SET_COMMENT_ITEM",payload:e}},L=n(15),P=n.n(L),V=function(e){var t=e.items,n=e.onCickActive,c=e.commentsCount,s=Object(f.b)(),o=Object(a.useCallback)((function(e,t){e.stopPropagation(),s(function(e){return{type:"REMOVE_ITEM",payload:e}}(t)),s(function(e){return{type:"REMOVE_COMMENTS",payload:e}}(t))}),[s]);return Object(x.jsx)("ul",{className:P.a.list,children:0!==t.length&&t.map((function(e){return Object(x.jsxs)("li",{onClick:function(t){return n(t,e.id)},className:E()(P.a.item,Object(C.a)({},P.a.active,e.active)),children:[Object(x.jsxs)("h3",{children:[e.text," ",c[e.id]&&Object(x.jsx)("span",{className:P.a.count,children:c[e.id]})]}),Object(x.jsx)(w,{onClick:function(t){return o(t,e.id)},del:!0,children:"Delete"})]},e.id)}))})},z=n(16),U=n.n(z),B=function(e){var t=e.comments;return Object(x.jsx)("ul",{className:U.a.comments,children:0!==t.length&&t.map((function(e,t){return Object(x.jsxs)("li",{className:U.a.comment,children:[Object(x.jsx)("span",{style:{background:e.user},className:U.a.user}),Object(x.jsx)("p",{className:U.a.message,children:e.text})]},t)}))})},G=n(32),R=n.n(G),F=function(e){var t=e.onKeyPress;return Object(x.jsx)("textarea",{onKeyPress:t,className:R.a.textarea,name:"text"})},H=n(29),K=function(){var e=Object(f.c)((function(e){return e.items.items})),t=Object(a.useState)(1),n=Object(H.a)(t,2),s=n[0],o=n[1],r=Object(f.c)((function(e){return e.comments.commentsItem})),i=Object(f.c)((function(e){return e.comments.commentsCount})),m=Object(a.useState)(""),l=Object(H.a)(m,2),u=l[0],d=l[1],j=Object(f.b)();c.a.useEffect((function(){var t=e.filter((function(e){return e.active}));o(t[0].id),j(D(t[0].id)),j({type:"SET_COMMENT_COUNT"}),localStorage.getItem("items")&&j({type:"GET_ITEMS"}),localStorage.getItem("commentsItem")&&localStorage.getItem("commentsItem"),localStorage.getItem("comments")&&localStorage.getItem("comments")}),[]);var O=Object(a.useCallback)((function(){u&&(j({type:"ADD_ITEM",payload:u}),d(""))}),[j,u]),b=Object(a.useCallback)((function(e){d(e.target.value)}),[]),p=Object(a.useCallback)((function(e,t){e.stopPropagation(),o(t),j(function(e){return{type:"ACTIVE_ITEM",payload:e}}(t)),j(D(t))}),[j]);return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)(N,{className:"items",children:[Object(x.jsx)("h2",{children:"Items"}),Object(x.jsxs)("div",{className:"d-flex s-between p-25t",children:[Object(x.jsx)(J,{value:u,onChange:b,placeholder:"Type name here..."}),Object(x.jsx)(w,{add:!0,onClick:O,children:"Add new"})]}),Object(x.jsx)(V,{commentsCount:i,onCickActive:p,items:e})]}),Object(x.jsxs)(N,{className:"comments",children:[Object(x.jsxs)("h2",{children:["Comments #",s]}),0===r.length&&Object(x.jsx)("h4",{children:"No any Comments"}),0!==r.length&&Object(x.jsx)(B,{comments:r}),Object(x.jsxs)("div",{className:"d-flex s-between",children:[Object(x.jsx)("span",{className:"user-picture"}),Object(x.jsx)(F,{onKeyPress:function(e){13===e.charCode&&e.ctrlKey&&e.target.value&&(j({type:"ADD_COMMENT",payload:{text:e.target.value,idUser:s}}),e.target.value="",j(D(s)),j({type:"SET_COMMENT_COUNT"}))}})]})]})]})},q=c.a.memo(K),Z=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I,{}),Object(x.jsx)(p.c,{children:Object(x.jsx)(p.a,{exact:!0,path:"/dairy-app/",children:Object(x.jsx)(q,{})})})]})};n(43);o.a.render(Object(x.jsx)(h.a,{children:Object(x.jsx)(f.a,{store:b,children:Object(x.jsx)(Z,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.5628420e.chunk.js.map